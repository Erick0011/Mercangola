<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Lojista - Mercangola</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/bootstrap.min.css') }}">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Chart js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard/base_dashboard.css') }}">
    <style>

    </style>
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <h3 class="logo">M<span>ercangola</span></h3>

        <a href="#dashboard"><i class="fas fa-home"></i> <span>Dashboard</span></a>

        <a href="#produtos" class="dropdown-btn">
            <i class="fas fa-box"></i> <span>Produtos</span>
            <i class="fas fa-chevron-down ms-auto"></i>
        </a>
        <div class="dropdown-container">
            <a href="#adicionar-produto"><i class="fas fa-plus"></i> Adicionar Produto</a>
            <a href="#gerenciar-produtos"><i class="fas fa-cogs"></i> Gerenciar Produtos</a>
        </div>

        <a href="#relatorios" class="dropdown-btn">
            <i class="fas fa-chart-line"></i> <span>Relatórios</span>
            <i class="fas fa-chevron-down ms-auto"></i>
        </a>
        <div class="dropdown-container">
            <a href="#vendas"><i class="fas fa-dollar-sign"></i> Vendas</a>
            <a href="#clientes"><i class="fas fa-user"></i> Clientes</a>
        </div>

        <a href="#pedidos"><i class="fas fa-shopping-cart"></i> <span>Pedidos</span></a>

        <a href="#mensagens" class="dropdown-btn">
            <i class="fas fa-envelope"></i> <span>Mensagens</span>
            <i class="fas fa-chevron-down ms-auto"></i>
        </a>
        <div class="dropdown-container">
            <a href="#caixa-entrada"><i class="fas fa-inbox"></i> Caixa de Entrada</a>
            <a href="#enviados"><i class="fas fa-paper-plane"></i> Enviados</a>
        </div>

        <a href="#marketing" class="dropdown-btn">
            <i class="fas fa-bullhorn"></i> <span>Marketing</span>
            <i class="fas fa-chevron-down ms-auto"></i>
        </a>
        <div class="dropdown-container">
            <a href="#campanhas"><i class="fas fa-bullseye"></i> Campanhas</a>
            <a href="#estatisticas"><i class="fas fa-chart-pie"></i> Estatísticas</a>
        </div>

        <a href="#configuracoes" class="dropdown-btn">
            <i class="fas fa-cog"></i> <span>Configurações</span>
            <i class="fas fa-chevron-down ms-auto"></i>
        </a>
        <div class="dropdown-container">
            <a href="#perfil"><i class="fas fa-user-cog"></i> Perfil</a>
            <a href="#seguranca"><i class="fas fa-lock"></i> Segurança</a>
        </div>

        <div class="sidebar-footer">
            <a href="#" class="text-light"><i class="fas fa-question-circle"></i> <span>Ajuda</span></a>
            <a href="#" class="text-danger"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></a>
        </div>
    </div>


    <!-- Conteúdo Principal -->
    <div id="dashboard" class="main-content">
        <h2>Painel do Lojista</h2>

        <!-- Cards -->
        <div class="row mt-4">
            <div class="col-md-4">
                <div class="card-custom bg-light">
                    <i class="fas fa-money-bill-wave text-success"></i>
                    <h5>Faturamento Total</h5>
                    <p class="fs-3 text-success">KZ 1.500.000</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card-custom bg-light">
                    <i class="fas fa-shopping-cart text-primary"></i>
                    <h5>Pedidos Hoje</h5>
                    <p class="fs-3 text-primary">12</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card-custom bg-light">
                    <i class="fas fa-box text-warning"></i>
                    <h5>Produtos Ativos</h5>
                    <p class="fs-3 text-warning">35</p>
                </div>
            </div>
        </div>
        <!-- Gráficos -->
        <div class="row mt-4">
            <div class="col-md-4">
                <div class="card card-custom">
                    <div class="card-body">
                        <h5 class="card-title">Faturamento</h5>
                        <div class="chart-container">
                            <canvas id="faturamentoGrafico"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card card-custom">
                    <div class="card-body">
                        <h5 class="card-title">Pedidos</h5>
                        <div class="chart-container">
                            <canvas id="pedidosGrafico"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card card-custom">
                    <div class="card-body">
                        <h5 class="card-title">Categorias</h5>
                        <div class="chart-container">
                            <canvas id="categoriasGrafico"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card card-custom">
                    <div class="card-body">
                        <h5 class="card-title">Crescimento Mensal</h5>
                        <div class="chart-container">
                            <canvas id="crescimentoGrafico"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card card-custom">
                    <div class="card-body">
                        <h5 class="card-title">Vendas por Região</h5>
                        <div class="chart-container">
                            <canvas id="regioesGrafico"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>


         <!-- Tabela de Pedidos -->
        <h3 class="mt-5">Pedidos Recentes</h3>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Cliente</th>
                        <th>Valor</th>
                        <th>Status</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#001</td>
                        <td>João Silva</td>
                        <td>KZ 12.500</td>
                        <td><span class="badge bg-success">Concluído</span></td>
                        <td>23/03/2025</td>
                    </tr>
                    <tr>
                        <td>#002</td>
                        <td>Maria Santos</td>
                        <td>KZ 8.200</td>
                        <td><span class="badge bg-warning">Pendente</span></td>
                        <td>23/03/2025</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div id="produtos" class="content-section">Produtos Content</div>
    <div id="adicionar-produto" class="content-section">Adicionar Produto</div>
    <div id="gerenciar-produtos" class="content-section">Gerenciar Produtos</div>

    <div id="relatorios" class="content-section">Relatórios Content</div>
    <div id="vendas" class="content-section">Vendas Content</div>
    <div id="clientes" class="content-section">Clientes Content</div>

    <div id="pedidos" class="content-section">Pedidos Content</div>

    <div id="mensagens" class="content-section">Mensagens Content</div>
    <div id="caixa-entrada" class="content-section">Caixa de Entrada Content</div>
    <div id="enviados" class="content-section">Enviados Content</div>

    <div id="marketing" class="content-section">Marketing Content</div>
    <div id="campanhas" class="content-section">Campanhas Content</div>
    <div id="estatisticas" class="content-section">Estatísticas Content</div>

    <div id="configuracoes" class="content-section">Configurações Content</div>
    <div id="perfil" class="content-section">Perfil Content</div>
    <div id="seguranca" class="content-section">Segurança Content</div>


    <script>
        // Sidebar automática
        const sidebar = document.getElementById("sidebar");
        const dropdownContainers = document.querySelectorAll(".dropdown-container");

        sidebar.addEventListener("mouseenter", () => {
            sidebar.classList.remove("collapsed");
            document.querySelector(".main-content").classList.remove("collapsed");
        });

        sidebar.addEventListener("mouseleave", () => {
            sidebar.classList.add("collapsed");
            document.querySelector(".main-content").classList.add("collapsed");

            // Fechar dropdowns ao colapsar a sidebar
            dropdownContainers.forEach(container => container.style.display = "none");
        });

        // Dropdowns personalizados
        let dropdownBtns = document.querySelectorAll(".dropdown-btn");
        dropdownBtns.forEach(btn => {
            btn.addEventListener("click", function () {
                let dropdown = this.nextElementSibling;
                dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            function mostrarSecao(hash) {
                // Oculta todas as seções
                document.querySelectorAll(".content-section").forEach(secao => {
                    secao.style.display = "none";
                });

                // Oculta o dashboard
                document.getElementById("dashboard").style.display = "none";

                // Mostra a seção correspondente ao hash
                if (hash) {
                    let secaoAtiva = document.querySelector(hash);
                    if (secaoAtiva) {
                        secaoAtiva.style.display = "block";
                    }
                } else {
                    // Se não houver hash, exibir o dashboard por padrão
                    document.getElementById("dashboard").style.display = "block";
                }
            }

            // Detectar mudanças no hash da URL
            window.addEventListener("hashchange", function () {
                mostrarSecao(window.location.hash);
            });

            // Inicializar com a seção correta ao carregar a página
            mostrarSecao(window.location.hash);
        });
        // Definição das cores da paleta
        const mercangolaColors = {
            primary: "#780116",
            secondary: "#D8572A",
            accent: "#FFC107",
            neutral: "#FFFFFF"
        };
            // Gráfico de linha - Faturamento
        new Chart(document.getElementById("faturamentoGrafico"), {
            type: "line",
            data: {
                labels: ["Seg", "Ter", "Qua", "Qui", "Sex", "Sáb", "Dom"],
                datasets: [{
                    label: "Faturamento (KZ)",
                    data: [200000, 180000, 250000, 220000, 300000, 350000, 400000],
                    borderColor: mercangolaColors.primary,
                    backgroundColor: "rgba(120, 1, 22, 0.2)",
                    tension: 0.3,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });

        // Gráfico de barras - Pedidos por categoria
        new Chart(document.getElementById("pedidosGrafico"), {
            type: "bar",
            data: {
                labels: ["Eletrônicos", "Roupas", "Alimentos", "Acessórios"],
                datasets: [{
                    label: "Pedidos",
                    data: [50, 80, 40, 70],
                    backgroundColor: [mercangolaColors.primary, mercangolaColors.secondary, mercangolaColors.accent, "#8B0000"]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });

        // Gráfico de pizza - Distribuição de produtos
        new Chart(document.getElementById("categoriasGrafico"), {
            type: "pie",
            data: {
                labels: ["Smartphones", "Notebooks", "Fones", "Outros"],
                datasets: [{
                    label: "Produtos",
                    data: [40, 30, 20, 10],
                    backgroundColor: [mercangolaColors.primary, mercangolaColors.secondary, mercangolaColors.accent, "#8B0000"]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });
    // Gráfico de Linha - Crescimento Mensal
    new Chart(document.getElementById("crescimentoGrafico"), {
        type: "line",
        data: {
            labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            datasets: [{
                label: "Crescimento (%)",
                data: [5, 7, 12, 15, 20, 25, 30, 35, 40, 45, 50, 55],
                borderColor: mercangolaColors.secondary,
                backgroundColor: "rgba(216, 87, 42, 0.2)",
                tension: 0.3,
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false
        }
    });

    //Gráfico de Barras - Vendas por Região (Angola)
    new Chart(document.getElementById("regioesGrafico"), {
        type: "bar",
        data: {
            labels: ["Luanda", "Benguela", "Huíla", "Huambo", "Cabinda"],
            datasets: [{
                label: "Vendas (KZ)",
                data: [50000, 30000, 20000, 15000, 10000],
                backgroundColor: [mercangolaColors.primary, mercangolaColors.secondary, mercangolaColors.accent, "#8B0000", "#4BC0C0"]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false
        }
    });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
